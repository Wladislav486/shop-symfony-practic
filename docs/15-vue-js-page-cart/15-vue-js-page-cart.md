### 122 Подключение Vue.js

**_Задача._**

1. Создать структуру vue приложения для корзины в публичной части сайта
2. Проверить работу vue приложения
3. Убрать часть страницы из twig шаблона, которая будет реализована через vue компоненты

**_Решение._**

1. Создаём отдельную директорию под vue приложение для страницы корзины
2. Наполняем директорию ключевыми директориями и файлами

- components - директория для дочерних компонентов
- store - директория для модулей хранилища vuex и файла их инициализации
- app.js - файл инициализации vue приложения
- App.vue - главный vue компонент

3. Заполняем файлы логикой
4. Подключаем файл инициализации приложения в настройках webpack
5. Редактируем twig шаблон, удаляем вёрстку создаём главный div на который подключаем файл инициализации приложения

### 123 Подключение Vuex

**_Задача, Решение._**

1. Подключили хранилище для vue приложения страницы корзины заказа
2. Инициализировали компоненты вывода списка продуктов и общей суммы заказов в корзине
3. Создали кнопку "Создать заказ" и её обработчик

### 124 Получение корзины из API

**_Задача._**

1. Получить данные корзин на странице "Корзина" через Api Platform

**_Решение._**

1. Настраиваем сущности на работу с Api Platform
2. Отмечаем поля сущностей, которые надо получать
3. Передаём url получения данных корзин из шаблона twig в хранилище
4. В хранилище реализуем хранителя корзин/корзины
5. Реализуем действие, которое обращается к Api Platform и пишет в хранителя информацию о корзине/корзинах
6. Вызываем действие в главном vue компоненте до взаимодействия с dom

### 125 Получение корзины пользователя

**_Задача._**

1. При запросе информации о корзинах оставить только корзину текущего пользователя

**_Решение._**

1. При запросе к бд через Api Platform добавить фильтр по ид сессии текущего пользователя
2. Создать новый Extension и поместить туда фильтр при запросе к бд корзины пользователя

### 126, 127 Список продуктов корзины.

**_Задача._**

1. Реализовать вывод товаров в корзине в публичной части сайта.

**_Решение._**

1. Добавляем вёрстку шаблона компонента "Список товаров корзины"
2. Добавляем в вычисляемые св-ва хранителя корзины пользователя из vuex
3. Создаём компонент для вывода одного товара в списке
4. Подключаем компонент "Элемент списка товаров корзины" в компоненте "Список товаров корзины"
5. Передаём в компонент "Элемент списка товаров корзины" информацию по каждому товару в цикле
6. Реализуем вёрстку для компонента "Элемент списка товаров корзины"
7. Реализуем методы и вычисляемые св-ва для вывода необходимых данных в вёрстку
8. Добавляем в хранилище запросы на бэк для получения необходимых данных для методов и вычисляемых св-в
9. Настраиваем необходимые сущности с помощью анатаций Api Platform для обработки запросов с фронта

### 128 Обновление количества продуктов

**_Задача._**

1. На событии отведения от input кол-ва товаров реализовать изменение товара в корзине, в таблице бд

**_Решение._**

1. Для сущности продукта корзины настраиваем метод api patch - изменение продукта корзины,  
   используя анатации Api Platform у сущности товара корзины
2. В хранилище реализуем новое действие запрос к api на изменение товара корзины
3. В компоненте реализуем обработчик события и вызов действия из хранилища